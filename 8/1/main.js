(()=>{var e={848:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i={lvantest:{cpSDKPath:()=>Promise.resolve().then(n.bind(n,452)),publisherSDKPath:"http://pubh5sdk-dev.iwgame.com/index.js",type:"module"},lvan:{cpSDKPath:()=>Promise.resolve().then(n.bind(n,452)),publisherSDKPath:"http://pubh5sdk-uat.iwgame.com/index.js",type:"module"},3:{cpSDKPath:()=>Promise.resolve().then(n.bind(n,452)),publisherSDKPath:"http://pubh5sdk-ltcs.iwgame.com/index.js",type:"module"},5:{cpSDKPath:()=>Promise.resolve().then(n.bind(n,206)),publisherSDKPath:"https://gzx8-xpt-res.yxzu.com/bin/x8sdk.js"}}},206:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Publisher:()=>i});class i{constructor(){this.publisherFuncList={init:window.x8Sdk.init,login:window.x8Sdk.login,pay:window.x8Sdk.pay,submitLog:window.x8Sdk.submitData,getDeviceInfo:window.x8Sdk.getDeviceInfo,logout:window.x8Sdk.logout}}init(e){const{game_version:t,appkey:n}=e;return new Promise(((e,n)=>{this.publisherFuncList.init({appkey:"a657ba4a70244d83bd9105aa63ba0fea",game_version:t,callback:t=>{console.log(t),200==t.code?e(!0):n(!1)}})}))}login(){return new Promise(((e,t)=>{this.publisherFuncList.login({callback:t=>{200==t.code&&e({code:200,data:t.data})}})}))}pay(e){const{order_money_type:t="CNY",order_amount:n,pay_order_id:i,x8_order_id:s,product_id:o,product_name:a="",product_desc:r="",role_id:d,role_name:c="",role_level:l="",role_prof:u="",role_sex:g="",role_vip_level:p="",server_id:h,server_name:_=""}=e;return console.log(),new Promise(((e,b)=>{this.publisherFuncList.pay({info:{order_money_type:t,order_amount:n,pay_order_id:i,x8_order_id:s,product_id:o,product_name:a,product_desc:r,role_id:d,role_name:c,role_level:l,role_prof:u,role_sex:g,role_vip_level:p,server_id:h,server_name:_},callback:t=>{e(!0)}})}))}logout(){this.publisherFuncList.logout({callback:()=>{}}),window.location.reload()}}},452:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Publisher:()=>i});class i{constructor(){this.publisherFuncList={init:window.PUBLASDK.init,login:window.PUBLASDK.login,pay:window.PUBLASDK.pay,logout:window.PUBLASDK.logout,onEventLog:window.PUBLASDK.onEventLog}}init(e){const{game_version:t,appkey:n}=e;return new Promise(((e,n)=>{this.publisherFuncList.init({game_version:t,callback:t=>{console.log(t),200==t.code?e(!0):n(!1)}})}))}login(){return new Promise(((e,t)=>{this.publisherFuncList.login({callback:t=>{200==t.code&&e({code:200,data:{pubsdkToken:t.data.token}})}})}))}pay(e){const{order_amount:t,order_moneytype:n="CNY",zone_id:i,server_id:s,server_name:o,gameVersion:a,role_id:r,role_name:d,role_sex:c,role_prof:l,role_level:u,role_vip_level:g,role_reborn_level:p,role_combat:h,map_id:_,money_balance:b,bmoney_balance:m,gold_balance:v,online_time:f,user_ip:I,extension:k}=e;return new Promise(((e,S)=>{this.publisherFuncList.pay({order_amount:t,order_moneytype:n,zone_id:i,server_id:s,server_name:o,gameVersion:a,role_id:r,role_name:d,role_sex:c,role_prof:l,role_level:u,role_vip_level:g,role_reborn_level:p,role_combat:h,map_id:_,money_balance:b,bmoney_balance:m,gold_balance:v,online_time:f,user_ip:I,extension:k,callback:t=>{e(!0)}})}))}logout(){this.publisherFuncList.logout({callback:()=>{}}),window.location.reload()}report(e,t){this.publisherFuncList.onEventLog({eventCode:e,eventData:t})}}console.log("bbbaaaa")},731:(e,t,n)=>{var i={"./config":848,"./config.ts":848,"./lvan":206,"./lvan/":206,"./lvan/index":206,"./lvan/index.ts":206,"./lvantest":452,"./lvantest/":452,"./lvantest/index":452,"./lvantest/index.ts":452};function s(e){var t=o(e);return n(t)}function o(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id=731}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";function e(){var e=performance.timing?performance.timing.navigationStart:performance.timeOrigin;return 1e3*(performance.now()+e)}function t(e,t){return(e+"").length>=t?e+"":new Array(t+1-(e+"").length).join("0")+e}function i(){var e=navigator.userAgent,t="";if(e.indexOf("Mac OS X")>-1)t="IOS "+(e.match(/OS [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".");else if(e.indexOf("Android")>-1||e.indexOf("Linux")>-1)t="Android "+e.substr(e.indexOf("Android")+8,e.indexOf(";",e.indexOf("Android"))-e.indexOf("Android")-8);else if(e.indexOf("BB10")>-1)t="blackberry "+e.substr(e.indexOf("BB10")+5,e.indexOf(";",e.indexOf("BB10"))-e.indexOf("BB10")-5);else if(e.indexOf("IEMobile")>-1)t="winphone "+e.substr(e.indexOf("IEMobile")+9,e.indexOf(";",e.indexOf("IEMobile"))-e.indexOf("IEMobile")-9);else{var n=navigator.userAgent.toLowerCase();t=n.indexOf("windows nt 5.0")>-1?"Windows 2000":n.indexOf("windows nt 5.1")>-1||n.indexOf("windows nt 5.2")>-1?"Windows XP":n.indexOf("windows nt 6.0")>-1?"Windows Vista":n.indexOf("windows nt 6.1")>-1||n.indexOf("windows 7")>-1?"Windows 7":n.indexOf("windows nt 6.2")>-1||n.indexOf("windows 8")>-1?"Windows 8":n.indexOf("windows nt 6.3")>-1?"Windows 8.1":n.indexOf("windows nt 6.2")>-1||n.indexOf("windows nt 10.0")>-1?"Windows 10":"Unknown"}return t.toLocaleLowerCase()}function s(){let e=localStorage.getItem("cp_unFirstActive")?0:1;return localStorage.setItem("cp_unFirstActive","1"),e+""}class o{static common(...e){console.log(...e)}static commonS(...e){console.log(...e)}static error(...e){console.error(...e)}static warn(...e){console.warn(...e)}static timeStart(t){return this.logTimeState.hasOwnProperty(t)&&this.error(`logName ${t} is exist`),this.logTimeState[t]=e(),t}static timeEnd(t){return this.logTimeState.hasOwnProperty(t)||this.error(`logName ${t} is not exist`),e()-this.logTimeState[t]}}o.logTimeState={};class a{constructor(){this.urlParams=this.analysis()}static getInstance(){return this.instance}analysis(){return(e=>{let t={};return e.split("&").map((e=>{let n=e.split("=");t[n[0]]=n[1]})),t})(location.search.slice(1,location.search.length))}get(e){return this.urlParams[e]}getAll(){return this.urlParams}getIsAndroid(){return Boolean(a.getInstance().get("android"))}getIsIos(){return Boolean(a.getInstance().get("ios"))}getIsApp(){return Boolean(a.getInstance().get("isApp"))}getPubisherId(){return a.getInstance().get("pubId")}getPubisherCode(){return a.getInstance().get("pubCode")}getGameId(){return a.getInstance().get("gameId")}getZoneId(){return a.getInstance().get("zoneId")}getTunnelId(){return a.getInstance().get("tunnelId")}}a.instance=new a;class r{static requestGet(e){const{url:t,data:n={},success:i=null,fail:s=null,header:o={}}=e;let a=function(e){let t="";for(let n in e)t+=`${n}=${e[n]}&`;return t.slice(0,t.length-1)}(n);var r=new XMLHttpRequest;r.open("GET",t+"?"+decodeURIComponent(a),!0),r.onreadystatechange=function(){let e=null;if(4==r.readyState&&200==r.status||304==r.status){try{e="string"==typeof r.responseText?JSON.parse(r.responseText):r.responseText}catch(t){e=r.responseText}i&&i.call(this,e)}else r.status&&200!=r.status&&s&&s.call(this,e)},r.send()}static requestPost(e){const{url:t,data:n={},success:i=null,fail:s=null,header:o={},ext:a={}}=e;var r=new XMLHttpRequest;r.open("POST",t,!0),a.notX8||r.setRequestHeader("Content-Type","application/json;charset=UTF-8");for(const e in o)r.setRequestHeader(e,o[e]);r.onreadystatechange=function(){let e=null;if(4==r.readyState&&200==r.status||304==r.status){try{e="string"==typeof r.responseText?JSON.parse(r.responseText):r.responseText}catch(t){e=r.responseText}i&&i.call(this,e)}else r.status&&200!=r.status&&s&&s.call(this,e)},r.send(JSON.stringify(n))}static create(e){const{url:t,type:n="get",data:i={},header:s={},ext:o={}}=e;return new Promise(((e,a)=>{switch(null==n?void 0:n.toLowerCase()){case"get":this.requestGet({url:t,data:i,header:s,ext:o,success:t=>{e(t)},fail:e=>{a(e)}});break;case"post":this.requestPost({url:t,data:i,header:s,ext:o,success:t=>{e(t)},fail:e=>{a(e)}})}}))}}class d{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){const t=d.hexChars,n=d.hexOut;let i,s,o,a;for(a=0;a<4;a+=1)for(s=8*a,i=e[a],o=0;o<8;o+=2)n[s+1+o]=t.charAt(15&i),i>>>=4,n[s+0+o]=t.charAt(15&i),i>>>=4;return n.join("")}static _md5cycle(e,t){let n=e[0],i=e[1],s=e[2],o=e[3];n+=(i&s|~i&o)+t[0]-680876936|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[1]-389564586|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[2]+606105819|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[3]-1044525330|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+t[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[6]-1473231341|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[7]-45705983|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+t[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[10]-42063|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[11]-1990404162|0,i=(i<<22|i>>>10)+s|0,n+=(i&s|~i&o)+t[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&s)+t[13]-40341101|0,o=(o<<12|o>>>20)+n|0,s+=(o&n|~o&i)+t[14]-1502002290|0,s=(s<<17|s>>>15)+o|0,i+=(s&o|~s&n)+t[15]+1236535329|0,i=(i<<22|i>>>10)+s|0,n+=(i&o|s&~o)+t[1]-165796510|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[11]+643717713|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[0]-373897302|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[10]+38016083|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[15]-660478335|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[4]-405537848|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[9]+568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[3]-187363961|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[8]+1163531501|0,i=(i<<20|i>>>12)+s|0,n+=(i&o|s&~o)+t[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&s|i&~s)+t[2]-51403784|0,o=(o<<9|o>>>23)+n|0,s+=(o&i|n&~i)+t[7]+1735328473|0,s=(s<<14|s>>>18)+o|0,i+=(s&n|o&~n)+t[12]-1926607734|0,i=(i<<20|i>>>12)+s|0,n+=(i^s^o)+t[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[11]+1839030562|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[14]-35309556|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[7]-155497632|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[10]-1094730640|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[13]+681279174|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[0]-358537222|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[3]-722521979|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[6]+76029189|0,i=(i<<23|i>>>9)+s|0,n+=(i^s^o)+t[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^s)+t[12]-421815835|0,o=(o<<11|o>>>21)+n|0,s+=(o^n^i)+t[15]+530742520|0,s=(s<<16|s>>>16)+o|0,i+=(s^o^n)+t[2]-995338651|0,i=(i<<23|i>>>9)+s|0,n+=(s^(i|~o))+t[0]-198630844|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[14]-1416354905|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[5]-57434055|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[10]-1051523|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[1]-2054922799|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[15]-30611744|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[6]-1560198380|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[13]+1309151649|0,i=(i<<21|i>>>11)+s|0,n+=(s^(i|~o))+t[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~s))+t[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,s+=(n^(o|~i))+t[2]+718787259|0,s=(s<<15|s>>>17)+o|0,i+=(o^(s|~n))+t[9]-343485551|0,i=(i<<21|i>>>11)+s|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=s+e[2]|0,e[3]=o+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(d.stateIdentity),this}appendStr(e){const t=this._buffer8,n=this._buffer32;let i,s,o=this._bufferLength;for(s=0;s<e.length;s+=1){if(i=e.charCodeAt(s),i<128)t[o++]=i;else if(i<2048)t[o++]=192+(i>>>6),t[o++]=63&i|128;else if(i<55296||i>56319)t[o++]=224+(i>>>12),t[o++]=i>>>6&63|128,t[o++]=63&i|128;else{if(i=1024*(i-55296)+(e.charCodeAt(++s)-56320)+65536,i>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[o++]=240+(i>>>18),t[o++]=i>>>12&63|128,t[o++]=i>>>6&63|128,t[o++]=63&i|128}o>=64&&(this._dataLength+=64,d._md5cycle(this._state,n),o-=64,n[0]=n[16])}return this._bufferLength=o,this}appendAsciiStr(e){const t=this._buffer8,n=this._buffer32;let i,s=this._bufferLength,o=0;for(;;){for(i=Math.min(e.length-o,64-s);i--;)t[s++]=e.charCodeAt(o++);if(s<64)break;this._dataLength+=64,d._md5cycle(this._state,n),s=0}return this._bufferLength=s,this}appendByteArray(e){const t=this._buffer8,n=this._buffer32;let i,s=this._bufferLength,o=0;for(;;){for(i=Math.min(e.length-o,64-s);i--;)t[s++]=e[o++];if(s<64)break;this._dataLength+=64,d._md5cycle(this._state,n),s=0}return this._bufferLength=s,this}getState(){const e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){const t=e.buffer,n=e.state,i=this._state;let s;for(this._dataLength=e.length,this._bufferLength=e.buflen,i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)}end(e=!1){const t=this._bufferLength,n=this._buffer8,i=this._buffer32,s=1+(t>>2);this._dataLength+=t;const o=8*this._dataLength;if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,i.set(d.buffer32Identity.subarray(s),s),t>55&&(d._md5cycle(this._state,i),i.set(d.buffer32Identity)),o<=4294967295)i[14]=o;else{const e=o.toString(16).match(/(.*?)(.{0,8})$/);if(null===e)return;const t=parseInt(e[2],16),n=parseInt(e[1],16)||0;i[14]=t,i[15]=n}return d._md5cycle(this._state,i),e?this._state:d._hex(this._state)}}if(d.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),d.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),d.hexChars="0123456789abcdef",d.hexOut=[],d.onePassHasher=new d,"5d41402abc4b2a76b9719d911017c592"!==d.hashStr("hello"))throw new Error("Md5 self test failed.");function c(){return window.localStorage.getItem("lvdid")||function(){let e=navigator.userAgent.toLocaleLowerCase(),t="cd_"+d.hashStr(e+((new Date).getTime()+Math.floor(1e4*Math.random())/1e4));return window.localStorage.setItem("lvdid",t),t}()}const l={log_id:{origin:"handler",handlerId:"getLogId"},event_time:{origin:"handler",handlerId:"getEventTime"},game_id:{origin:"handler",handlerId:"getGameId"},pub_id:{origin:"handler",handlerId:"getPubId"},tunnel_id:{origin:"handler",handlerId:"getTunnelId"},platform:{origin:"handler",handlerId:"getPlatform"},app_version:{origin:"sdk",default:"",paramId:!1},device_id:{origin:"handler",handlerId:"getDeviced"},cpsdk_version:{origin:"sdk",paramId:"cpsdk_version"},cpsdk_account_id:{origin:"sdk",paramId:"cpsdk_account_id"},device_os:{origin:"handler",handlerId:"getDeviceOs"},device_version:{origin:"handler",handlerId:"getDeviceVersion"},device_nm:{origin:"sdk",default:"",paramId:!1},device_score:{origin:"sdk",default:"",paramId:!1},device_name:{origin:"sdk",default:"",paramId:!1},device_screen:{origin:"handler",handlerId:"getDeviceScreen"},cpu_count:{origin:"sdk",default:"",paramId:!1},cpu_freq:{origin:"sdk",default:"",paramId:!1},cpu_model:{origin:"sdk",default:"",paramId:!1},cpu_mem:{origin:"sdk",default:"",paramId:!1},total_space:{origin:"sdk",default:"",paramId:!1},free_space:{origin:"sdk",default:"",paramId:!1},imei:{origin:"sdk",default:"",paramId:!1},oaid:{origin:"sdk",default:"",paramId:!1},android_id:{origin:"sdk",default:"",paramId:!1},is_emu:{origin:"sdk",default:"",paramId:!1},languages:{origin:"handler",handlerId:"getLanguages"},user_ip:{origin:"sdk",default:"",paramId:!1},project_id:{origin:"handler",handlerId:"getProjectId"},subgame_id:{origin:"handler",handlerId:"getSubgameId"},channel_id:{origin:"handler",handlerId:"getChannelId"},ad_id:{origin:"sdk",default:"",paramId:!1},pubsdk_version:{origin:"sdk",paramId:"pubsdk_version"},pubsdk_account_id:{origin:"sdk",paramId:"pubsdk_account_id"},pubsdk_account_name:{origin:"sdk",paramId:"pubsdk_account_name"},is_first_active:{origin:"sdk",paramId:"is_first_active"},ad_details:{origin:"sdk",default:"",paramId:!1}},u={cpglog:{glog_key:"t1",version:"1.0",reg:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",login:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",pay_success:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",heartbeat:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",create_role:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",role_login:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",select_server:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",level_up:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",vip_level_up:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",role_logout:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",pay_order:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",pay_order_client:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version,cpsdk_account_id",active:"game_id,pub_id,tunnel_id,platform,app_version,device_id,cpsdk_version"},pubglog:{glog_key:"pt1",version:"1.0",reg:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",login:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",pay:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",heartbeat:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",select_server:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",create_role:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",role_login:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",level_up:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",vip_level_up:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",role_logout:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",pay_order:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",pay_order_client:"platform,device_id,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version,pubsdk_account_id",active:"platform,device_id,device_os,device_version,device_nm,device_score,device_name,device_screen,cpu_count,cpu_freq,cpu_model,cpu_mem,total_space,free_space,imei,oaid,android_id,is_emu,languages,user_ip,project_id,subgame_id,channel_id,ad_id,app_version,pubsdk_version"}};const g={getLogId:()=>d.hashStr(+new Date+(Math.ceil(9999*Math.random())+""))+Math.ceil(9999*Math.random()),getIp:()=>{return e=void 0,t=void 0,i=function*(){let e="";return yield r.create({url:"https://pv.sohu.com/cityjson?ie=utf-8",type:"GET"}).then((t=>{const n=t.indexOf("{"),i=t.indexOf("}");e=JSON.parse(t.slice(n,i+1)).cip})),e},new((n=void 0)||(n=Promise))((function(s,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function r(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}d((i=i.apply(e,t||[])).next())}));var e,t,n,i},getEventTime:()=>"+"+t(0-(new Date).getTimezoneOffset()/60,2)+"00 "+function(e,n="year-month-day hour:min:sec"){let i;i="object"!=typeof e?new Date(e):e;const s=i.getFullYear()+"",o=i.getMonth()+1,a=i.getDate(),r=i.getHours(),d=i.getMinutes(),c=i.getSeconds();return n.replace("year",s).replace("month",t(o,2)+"").replace("day",t(a,2)+"").replace("hour",t(r,2)+"").replace("min",t(d,2)+"").replace("sec",t(c,2)+"")}(new Date),getGameId:()=>a.getInstance().get("gameId"),getPubId:()=>a.getInstance().get("pubId"),getTunnelId:()=>a.getInstance().get("tunnelId"),getPlatform:()=>"3",getDeviced:()=>c(),getDeviceOs:()=>{switch(i().split(" ")[0]){case"windows":return"3";case"ios":return"1";case"android":return"2";default:return"0"}},getDeviceVersion:()=>i().split(" ")[1],getDeviceScreen:()=>`${window.innerWidth}*${window.innerHeight}`,getLanguages:()=>navigator.languages||"zh",getProjectId:()=>a.getInstance().get("projectId"),getSubgameId:()=>a.getInstance().get("subgameId"),getChannelId:()=>a.getInstance().get("channelId")};let p,h,_,b={},m={};function v(e,t){if("other"==e){let e={};return t.map((t=>{e[t]=f(t)})),e}{let n={},i=u[p+"glog"];n.version=i.version,n.event=p+"sdk_"+e,["log_id","event_time"].concat(i[e].split(",")).map((e=>{n[e]=f(e)})),Object.assign(m,t),Object.assign(n,t),k([n])}}function f(e){let t=l[e];switch(t.origin){case"handler":return function(e){if(!e)return"";try{return g[e.handlerId]()}catch(e){}}(t);case"sdk":return function(e){return e?e.paramId?b[e.paramId]:e.default:""}(t)}}function I(e){Object.assign(b,e)}function k(e){console.log(a.getInstance().get("pubGlogUrl")),r.create({url:a.getInstance().get("pubGlogUrl")+"/"+u[p+"glog"].glog_key,data:e,type:"POST",ext:{notX8:!0}}).then((t=>{0!=t.code&&-1!=e.event.indexOf("heartbeat")&&function(e){let t=localStorage.getItem(p+"sdk_log")?JSON.parse(localStorage.getItem(p+"sdk_log")):[];localStorage.setItem(p+"sdk_log",JSON.stringify(t.concat(e))),_||(_=setTimeout((()=>{let e=localStorage.getItem(p+"sdk_log")?JSON.parse(localStorage.getItem(p+"sdk_log")):[];e.length>0&&k(e),_=null}),3e5))}(e),h||-1==e[0].event.indexOf("role_login")||(h=setInterval((()=>{v("heartbeat",m)}),3e5))}))}let S=n(731)("./"+process.env.SDK_pubSDKRealizePath).Publisher;console.log(S,"lvan"),console.log("44444");class w{insideInit(e){let t=this.loadPublisherInfo();p="cp",t.then((()=>{I({cpsdk_version:process.env.SDK_VERSION}),v("active",{is_first_active:s()}),e({result:{code:200,msg:"初始化成功"},cpSpace:this.getSpaceFunction()})}))}loadPublisherInfo(){return console.log(77777),new Promise((e=>{Promise.all([this.loadCpSDKFile(S),this.loadPublisherSDKFile(process.env.SDK_pubSDKResUrl,process.env.SDK_pubSDKPathType)]).then((t=>{console.log(88888),this.publisherSDk=new t[0],console.log(this.publisherSDk,"this.publisherSDk"),e(!0)}))}))}loadCpSDKFile(e){return new Promise((t=>{t(e)}))}loadPublisherSDKFile(e,t){return new Promise((n=>{!function(e,t,n){if(document.body){let i=document.createElement("script");i.src=e,i.onload=t,n&&(i.type=n),document.body.append(i)}else document.write(`<script src="${e}" onload="${t()}"><\/script>`)}(e,(()=>{console.log(33222),n(!0)}),t)}))}init(e){const{callback:t}=e;console.log(this.publisherSDk,"this.publisherSDk"),this.publisherSDk.init?this.noticePushlierInit(e):t({code:200,msg:"初始化成功"})}noticePushlierInit(e){const{callback:t,game_version:n}=e;this.publisherSDk.init({game_version:n}).then((e=>{t({code:200,msg:"初始化成功"})}))}login(e){const{callback:t}=e;this.publisherSDk.login().then((e=>{console.log(e,"login1"),200==e.code&&this.insideLogin(e.data,t)})).catch((e=>{console.log(e,"login2"),t({code:410,msg:"登录失败"})}))}insideLogin(e,t){console.log(a.getInstance().get("mainUrl"),"asasd"),console.log(a.getInstance().get("zoneId"),2123),window.a=a.getInstance(),r.create({url:a.getInstance().get("mainUrl")+"/sdk/client/login",data:{zoneId:a.getInstance().get("zoneId"),tunnelId:a.getInstance().get("tunnelId"),pubId:a.getInstance().get("pubId"),gameId:a.getInstance().get("gameId"),pubTokenInfo:JSON.stringify(Object.assign({},e)),deviceEnv:this.getDeviceEnv()},type:"POST"}).then((e=>{0==e.code?(I({cpsdk_account_id:e.data.cpsdkAccountId}),t({code:200,data:{cpsdkToken:e.data.cpsdkToken,tunnelId:e.data.tunnelId,zoneId:e.data.zoneId},msg:"登录成功"})):t({code:411,msg:"登录失败"})}))}pay(e){this.publisherSDk.pay(e),v("pay_order_client",e)}getDeviceEnv(){return window.btoa(JSON.stringify({env:Object.assign({os:navigator.platform,deviceId:c(),serial:"",imei:"",androidId:"",oaid:"",idfa:"",ip:"",brand:"",mobileModel:""},v("other",["device_id","platform","app_version","cpsdk_version","pubsdk_version"])),pub:Object.assign({},v("other",["channel_id"]))}))}logout(){this.publisherSDk.logout()}switchAccount(e){const{callback:t}=e;this.publisherSDk.switchAccount?this.publisherSDk.switchAccount().then((e=>{t(e)})):this.publisherSDk.logout()}activeShare(){}onEventLog({eventCode:e,eventData:t}){v(e,t),this.publisherSDk.report&&this.publisherSDk.report(e,t)}getSpaceFunction(){return{init:this.init.bind(this),login:this.login.bind(this),pay:this.pay.bind(this),logout:this.logout.bind(this),switchAccount:this.switchAccount.bind(this),getDeviceEnv:this.getDeviceEnv.bind(this),onEventLog:this.onEventLog.bind(this)}}}console.log(555666);class y{static getInstance(){return console.log(555666),y.instance||(y.instance=new y),this.instance}init(){return console.log(6666),new Promise(((e,t)=>{console.log(6666),(new w).insideInit(e)}))}}class D{insideInit(e){e({result:{code:200,msg:"初始化成功"},cpSpace:this.getSpaceFunction()})}init(e){const{callback:t}=e;console.log(this.publisherSDk,"this.publisherSDk"),this.publisherSDk.init?this.noticePushlierInit(e):t({code:200,msg:"初始化成功"})}noticePushlierInit(e){const{callback:t,game_version:n}=e;this.publisherSDk.init({game_version:n}).then((e=>{t({code:200,msg:"初始化成功"})}))}login(e){const{callback:t}=e;this.publisherSDk.login().then((e=>{console.log(e,"login1"),200==e.code&&this.insideLogin(e.data,t)})).catch((e=>{console.log(e,"login2"),t({code:410,msg:"登录失败"})}))}insideLogin(e,t){console.log(a.getInstance().get("x8_request_url"),"asasd"),console.log(a.getInstance().get("zoneId"),2123),window.a=a.getInstance(),r.create({url:a.getInstance().get("x8_request_url")+"/sdk/client/login",data:{zoneId:a.getInstance().get("zoneId"),tunnelId:a.getInstance().get("tunnelId"),pubId:a.getInstance().get("pubId"),gameId:a.getInstance().get("gameId"),pubTokenInfo:JSON.stringify(Object.assign({},e)),deviceEnv:this.getDeviceEnv()},type:"POST"}).then((e=>{0==e.code?t({code:200,data:{cpsdkToken:e.data.cpsdkToken,tunnelId:e.data.tunnelId,zoneId:e.data.zoneId},msg:"登录成功"}):t({code:411,msg:"登录失败"})}))}pay(e){this.publisherSDk.pay(e)}getDeviceEnv(){return window.btoa(JSON.stringify({env:{os:navigator.platform,deviceId:c(),serial:"",imei:"",androidId:"",oaid:"",idfa:"",ip:"",brand:"",mobileModel:""},pub:{channelId:a.getInstance().get("lv_pub_channelId_id")}}))}logout(){this.publisherSDk.logout()}switchAccount(e){const{callback:t}=e;this.publisherSDk.switchAccount?this.publisherSDk.switchAccount().then((e=>{t(e)})):this.publisherSDk.logout()}activeShare(){}roleCreateLog(e){}roleLoginLog(e){}roleUpLog(e){}noviceLog(e){}getSpaceFunction(){return{init:this.init.bind(this),login:this.login.bind(this),pay:this.pay.bind(this),logout:this.logout.bind(this),switchAccount:this.switchAccount.bind(this),roleCreateLog:this.roleCreateLog.bind(this),roleLoginLog:this.roleLoginLog.bind(this),roleUpLog:this.roleUpLog.bind(this),noviceLog:this.noviceLog.bind(this),getDeviceEnv:this.getDeviceEnv.bind(this)}}}class x{static getInstance(){return x.instance||(x.instance=new x),this.instance}init(){return new Promise(((e,t)=>{(new D).insideInit(e)}))}}console.log("23333333333332222");class L{insideInit(e){e({result:{code:200,msg:"初始化成功"},cpSpace:this.getSpaceFunction()})}init(e){const{callback:t}=e;console.log(this.publisherSDk,"this.publisherSDk"),this.publisherSDk.init?this.noticePushlierInit(e):t({code:200,msg:"初始化成功"})}noticePushlierInit(e){const{callback:t,game_version:n}=e;this.publisherSDk.init({game_version:n}).then((e=>{t({code:200,msg:"初始化成功"})}))}login(e){const{callback:t}=e;this.publisherSDk.login().then((e=>{console.log(e,"login1"),200==e.code&&this.insideLogin(e.data,t)})).catch((e=>{console.log(e,"login2"),t({code:410,msg:"登录失败"})}))}insideLogin(e,t){console.log(a.getInstance().get("x8_request_url"),"asasd"),console.log(a.getInstance().get("zoneId"),2123),window.a=a.getInstance(),r.create({url:a.getInstance().get("x8_request_url")+"/sdk/client/login",data:{zoneId:a.getInstance().get("zoneId"),tunnelId:a.getInstance().get("tunnelId"),pubId:a.getInstance().get("pubId"),gameId:a.getInstance().get("gameId"),pubTokenInfo:JSON.stringify(Object.assign({},e)),deviceEnv:this.getDeviceEnv()},type:"POST"}).then((e=>{0==e.code?t({code:200,data:{cpsdkToken:e.data.cpsdkToken,tunnelId:e.data.tunnelId,zoneId:e.data.zoneId},msg:"登录成功"}):t({code:411,msg:"登录失败"})}))}pay(e){this.publisherSDk.pay(e)}getDeviceEnv(){return window.btoa(JSON.stringify({env:{os:navigator.platform,deviceId:c(),serial:"",imei:"",androidId:"",oaid:"",idfa:"",ip:"",brand:"",mobileModel:""},pub:{channelId:a.getInstance().get("lv_pub_channelId_id")}}))}logout(){this.publisherSDk.logout()}switchAccount(e){const{callback:t}=e;this.publisherSDk.switchAccount?this.publisherSDk.switchAccount().then((e=>{t(e)})):this.publisherSDk.logout()}activeShare(){}roleCreateLog(e){}roleLoginLog(e){}roleUpLog(e){}noviceLog(e){}getSpaceFunction(){return{init:this.init.bind(this),login:this.login.bind(this),pay:this.pay.bind(this),logout:this.logout.bind(this),switchAccount:this.switchAccount.bind(this),roleCreateLog:this.roleCreateLog.bind(this),roleLoginLog:this.roleLoginLog.bind(this),roleUpLog:this.roleUpLog.bind(this),noviceLog:this.noviceLog.bind(this),getDeviceEnv:this.getDeviceEnv.bind(this)}}}class O{static getInstance(){return O.instance||(O.instance=new O),this.instance}init(){return new Promise(((e,t)=>{(new L).insideInit(e)}))}}let P=new class{constructor(){this.insideInitState=!1,this.externalInitState=!1,o.commonS("cpsdk启动成功"),o.timeStart("SDK_start"),this.init()}init(){let e;o.timeStart("Launch_init"),console.log(3311),"h5"==process.env.SDK_shell?e=this.initH5():"android"==process.env.SDK_shell?e=this.initAndroid():"ios"==process.env.SDK_shell&&(e=this.initIos()),e.then((({result:e,cpSpace:t})=>{console.log(t,e,"result"),this.judgeExternalInitState(e,t),o.commonS("绿岸cp内部初始化成功"),o.timeEnd("Launch_init")})).catch((()=>{o.error("绿岸cp内部初始化失败")}))}initIos(){if("ios"==process.env.SDK_shell)return new Promise((e=>{O.getInstance().init().then((t=>{e(t)}))}))}initAndroid(){if("android"==process.env.SDK_shell)return new Promise((e=>{x.getInstance().init().then((t=>{e(t)}))}))}initH5(){if("h5"==process.env.SDK_shell)return new Promise((e=>{console.log(55555),y.getInstance().init().then((t=>{e(t)}))}))}externalInit(e){const{cpSpace:t}=e;this.insideInitState?(Object.assign(t,this.insideInitResult.cpSpace),console.log(this.insideInitResult.cpSpace,"this.insideInitResult.codeSpace"),this.insideInitResult.cpSpace.init(e)):(this.externalInitState=!0,this.externalInitParams=e,this.cpSpace=t)}judgeExternalInitState(e,t){this.externalInitState?(Object.assign(this.cpSpace,t),t.init(this.externalInitParams)):(this.insideInitState=!0,this.insideInitResult={result:e,cpSpace:t})}};window.CPLASDK=class{static init(e){const{callback:t,game_version:n}=e;console.log(12313),P.externalInit({cpSpace:this,callback:t,game_version:n})}}})()})();